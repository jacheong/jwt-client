"use strict";var __decorate=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,s=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;0<=i;i--)(r=t[i])&&(s=(c<3?r(s):3<c?r(e,o,s):r(e,o))||s);return 3<c&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),contact_model_1=require("../models/contact.model"),ContactFormComponent=function(){function t(t,e,o,n,r){this.cqs=t,this.qcs=e,this.apiService=o,this.authService=n,this.router=r}return t.prototype.ngOnInit=function(){this.pageTitle="Add Contact",this.questions=this.cqs.getAddQuestions(),this.form=this.qcs.toFormGroup(this.questions)},t.prototype.onSubmit=function(){var e=this;this.payload=this.form.value,this.apiService.addContact(new contact_model_1.Contact(this.payload)).subscribe(function(t){console.log(t.message),e.addMessage=t.message,setTimeout(function(){e.goToContacts()},2e3)},function(t){console.log(t),e.addMessage=t.error.error,setTimeout(function(){e.addMessage=null,e.form.reset()},2e3)})},t.prototype.goToContacts=function(){this.router.navigate(["/contacts"])},t.prototype.logOff=function(){this.authService.logout(),this.router.navigate(["/login"])},t=__decorate([core_1.Component({selector:"app-contact-form",templateUrl:"./contact-form.component.html",styleUrls:["./contact-form.component.css"]})],t)}();exports.ContactFormComponent=ContactFormComponent;